<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="AndroidGalleryTestNetMaui.MainPage">


    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Label x:Name="ErrorLabel"
               Grid.Row="1"
               Text=""
               IsVisible="False"
               TextColor="Red"
               HorizontalOptions="Center"
               Margin="10"/>

        <CollectionView Grid.Row="2"
                        ItemsSource="{Binding ImagesList}"
                        HeightRequest="600"
                        VerticalOptions="FillAndExpand">
            <CollectionView.ItemsLayout>
                <GridItemsLayout Orientation="Vertical"
                                Span="3"
                                HorizontalItemSpacing="5"
                                VerticalItemSpacing="5"/>
            </CollectionView.ItemsLayout>
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame Padding="0" 
                           IsClippedToBounds="True" 
                           CornerRadius="0">
                        <Image Source="{Binding .}"
                               Aspect="AspectFill"
                               HeightRequest="120"
                               WidthRequest="120"/>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
        
        <Frame Grid.Row="3"
               Padding="5"
               HasShadow="True"
               BorderColor="Black"
               Margin="10">
            <Image x:Name="SelectedBodyImage"
                   Aspect="AspectFit"/>
        </Frame>

        <ActivityIndicator Grid.Row="0" Grid.RowSpan="3"
                           IsRunning="{Binding IsBusy}"
                           IsVisible="{Binding IsBusy}"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"/>
    </Grid>

</ContentPage>
